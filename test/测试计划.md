# Fan 项目测试计划

## 测试目标

对 Fan 项目的所有功能模块进行全面系统的测试，确保所有功能均能正常运行且无任何错误发生。

## 测试范围

1. **用户界面交互**
   - 应用启动与初始化
   - 拖拽功能
   - 按钮点击响应
   - 路径选择
   - 权限管理工具

2. **数据处理流程**
   - 文件选择与导入
   - 软件包解析
   - 前端资源提取
   - 资源重组
   - 输出目录生成

3. **API接口调用**
   - Electron IPC 通信
   - 主进程与渲染进程通信
   - 权限检测 API
   - 路径验证 API

4. **异常场景处理**
   - 权限不足错误
   - 不支持的文件格式
   - 解包失败
   - 磁盘空间不足
   - 内存使用过高

## 测试环境

- **操作系统**：macOS 14.0
- **Node.js 版本**：v18.0.0
- **Electron 版本**：v30.0.0
- **测试文件**：
  - ZIP 文件（包含前端资源）
  - ASAR 文件（Electron 应用打包文件）
  - 其他格式文件（用于测试不支持的格式）

## 测试步骤

### 1. 基础功能测试

1. **应用启动测试**
   - 启动应用，检查是否正常初始化
   - 检查合规声明是否显示
   - 检查主界面是否正确加载

2. **文件选择测试**
   - 点击 "选择文件" 按钮，选择测试文件
   - 检查文件是否正确导入
   - 检查解析过程是否开始

3. **拖拽功能测试**
   - 将测试文件拖拽到应用界面
   - 检查文件是否正确导入
   - 检查解析过程是否开始

4. **输出路径选择测试**
   - 点击 "选择输出路径" 按钮，选择自定义目录
   - 检查路径是否正确设置
   - 检查解析完成后文件是否输出到指定目录

5. **解析功能测试**
   - 解析 ZIP 文件，检查是否成功提取前端资源
   - 解析 ASAR 文件，检查是否成功提取前端资源
   - 检查提取的文件是否完整
   - 检查输出目录结构是否正确

### 2. 高级功能测试

1. **权限管理工具测试**
   - 打开权限管理工具
   - 检测默认路径权限
   - 检测自定义路径权限
   - 使用推荐路径
   - 应用权限修复
   - 检查磁盘状态

2. **错误处理测试**
   - 测试权限不足场景
   - 测试不支持的文件格式
   - 测试解包失败场景
   - 测试磁盘空间不足场景
   - 检查错误提示是否清晰有效

### 3. 性能测试

1. **启动时间测试**
   - 测量应用启动时间
   - 测量初始化时间

2. **解析速度测试**
   - 测量小文件解析时间
   - 测量大文件解析时间

3. **内存使用测试**
   - 测量应用空闲时内存使用
   - 测量解析过程中内存使用

## 测试标准

### 通过标准

- 所有功能均能正常运行，无崩溃或冻结
- 所有错误均能被正确捕获和处理
- 所有 API 调用均能正确响应
- 所有用户界面交互均能正常工作
- 性能指标符合预期

### 失败标准

- 应用崩溃或冻结
- 功能无法正常使用
- 错误处理不当
- API 调用失败
- 性能指标超出预期

## 测试报告

测试完成后，将生成一份包含以下内容的测试报告：

1. **测试覆盖率**：覆盖的功能模块和测试用例数
2. **通过情况**：通过和失败的测试用例数
3. **发现问题**：详细描述发现的问题
4. **修复建议**：针对发现的问题提出修复建议

## 测试工具

- 手动测试
- 日志分析
- 性能监控工具
